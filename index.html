<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <title>AGEUL | Astana Intelligence Monitoring</title>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
    <style>
        body, html { margin: 0; padding: 0; scroll-behavior: smooth; font-family: 'Inter', sans-serif; background: #020617; color: white; overflow-x: hidden; }
        
        /* КАРТА БЕТІ */
        #map-page { height: 100vh; width: 100%; position: relative; border: 2px solid #0ea5e9; box-sizing: border-box; }
        #map { width: 100%; height: 100%; filter: contrast(1.1) brightness(0.8); }

        /* СКАНЕРЛЕУ СЫЗЫҒЫ (Decoration) */
        .scan-line {
            position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: rgba(14, 165, 233, 0.5); box-shadow: 0 0 15px #0ea5e9;
            z-index: 500; animation: scan 4s linear infinite; pointer-events: none;
        }

        /* LIVE СТАТИСТИКА */
        .live-stats {
            position: absolute; top: 25px; left: 25px; z-index: 1000;
            background: rgba(15, 23, 42, 0.85); backdrop-filter: blur(15px);
            padding: 20px; border-radius: 20px; border: 1px solid #0ea5e9;
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.2);
        }
        .stat-val { font-size: 24px; font-weight: 800; color: #38bdf8; }
        .stat-label { font-size: 11px; text-transform: uppercase; color: #94a3b8; margin-left: 10px; }

        /* ЖҮЙЕЛІК ЖУРНАЛ (Decoration) */
        .system-log {
            position: absolute; top: 150px; left: 25px; z-index: 1000;
            font-family: 'Courier New', monospace; font-size: 10px; color: #22c55e;
            background: rgba(0,0,0,0.5); padding: 10px; border-radius: 10px; width: 180px;
        }

        /* ОҢ ЖАҚ ТӨМЕНГІ БҰРЫШ */
        .bottom-ui { position: absolute; bottom: 30px; right: 25px; z-index: 1000; display: flex; flex-direction: column; align-items: center; gap: 15px; }
        .yurt { width: 80px; height: 80px; background: url('https://img.icons8.com/color/96/yurt.png') no-repeat center/contain; animation: float 3s infinite; }
        .nav-btn {
            background: linear-gradient(135deg, #0ea5e9, #2563eb); color: white; padding: 15px 30px; border-radius: 15px;
            text-decoration: none; font-weight: bold; border: 1px solid rgba(255,255,255,0.2); transition: 0.3s;
        }
        .nav-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px #0ea5e9; }

        /* СИПАТТАМА БЕТІ */
        #about-page { min-height: 100vh; background: #020617; display: flex; justify-content: center; align-items: center; padding: 50px; }
        .glass-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); padding: 50px; border-radius: 40px; text-align: center; max-width: 800px; }

        /* BOTTOM PANEL (HIDING LOGIC) */
        #bottom-panel { position: absolute; bottom: -500px; left: 0; width: 100%; background: white; border-radius: 30px 30px 0 0; z-index: 2000; transition: 0.5s; padding: 30px; color: #000; }
        #bottom-panel.active { bottom: 0; }

        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    </style>
</head>
<body>

    <section id="map-page">
        <div class="scan-line"></div>
        
        <div class="live-stats">
            <div><span class="stat-val" id="bus-num">70</span><span class="stat-label">Автобус желіде</span></div>
            <div style="margin-top:10px;"><span class="stat-val" id="cam-num">300</span><span class="stat-label">Сергек Online</span></div>
        </div>

        <div class="system-log" id="log-box">
            > Жүйе қосылды...<br>
            > Камералар тексерілуде...<br>
            > Деректер қабылданды.
        </div>

        <div id="map"></div>

        <div class="bottom-ui">
            <div class="yurt"></div>
            <a href="#about-page" class="nav-btn" onclick="closePanel()">Біз туралы көбірек білу →</a>
        </div>

        <div id="bottom-panel">
            <div style="width:40px; height:4px; background:#ddd; margin:0 auto 20px; border-radius:10px;"></div>
            <h2 id="p-title">Нүкте</h2>
            <div style="width:100%; height:200px; background:#f0f0f0; border-radius:15px; overflow:hidden;"><img id="p-img" src="" style="width:100%; height:100%; object-fit:cover;"></div>
            <button onclick="closePanel()" style="margin-top:15px; width:100%; padding:15px; background:#020617; color:white; border-radius:10px; border:none; cursor:pointer;">Жабу</button>
        </div>
    </section>

    <section id="about-page">
        <div class="glass-card">
            <h1 style="color:#0ea5e9;">AGEUL Стартап</h1>
            <p style="color:#94a3b8; font-size:18px;">Астана қаласының цифрлық егізі. Біз қала қозғалысын нақты уақытта басқаруға мүмкіндік береміз.</p>
            <a href="#map-page" style="color:#38bdf8; text-decoration:none; font-weight:bold;">← Картаға оралу</a>
        </div>
    </section>

    <script type="text/javascript">
        ymaps.ready(init);
        function init() {
            var myMap = new ymaps.Map("map", { center: [51.128, 71.430], zoom: 14, controls: [] });

            // 450 СЕРГЕК
            for (var i = 0; i < 450; i++) {
                var lat = 51.05 + (Math.random() * 0.16);
                var lng = 71.30 + (Math.random() * 0.25);
                var p = new ymaps.Placemark([lat, lng], {
                    title: "Камера #" + (5000 + i),
                    img: "https://images.unsplash.com/photo-1541339907198-e08756ebafe3?auto=format&fit=crop&w=600"
                }, { preset: 'islands#redCircleDotIcon', iconColor: '#ff0000', iconScale: 0.7 });

                p.events.add('click', function (e) {
                    var target = e.get('target');
                    document.getElementById('p-title').innerText = target.properties.get('title');
                    document.getElementById('p-img').src = target.properties.get('img');
                    document.getElementById('bottom-panel').classList.add('active');
                });
                myMap.geoObjects.add(p);
            }

            // ДИНАМИКАЛЫҚ СТАТИСТИКА
            setInterval(() => {
                let buses = 68 + Math.floor(Math.random() * 8); // 68-76 арасы
                let cams = 295 + Math.floor(Math.random() * 10); // 295-305 арасы
                document.getElementById('bus-num').innerText = buses;
                document.getElementById('cam-num').innerText = cams;
                
                // Журналды жаңарту
                const logs = ["> Нүкте тексерілді", "> Дерек жаңартылды", "> Трафик талданды", "> Байланыс тұрақты"];
                document.getElementById('log-box').innerHTML += `<br> ${logs[Math.floor(Math.random()*logs.length)]}`;
                if(document.getElementById('log-box').innerHTML.split('<br>').length > 5) {
                    document.getElementById('log-box').innerHTML = "> Жүйе жұмыс істеп тұр...";
                }
            }, 3000);
        }

        function closePanel() {
            document.getElementById('bottom-panel').classList.remove('active');
        }
    </script>
</body>
</html>
